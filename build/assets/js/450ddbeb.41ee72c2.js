"use strict";(globalThis.webpackChunkrobolearn=globalThis.webpackChunkrobolearn||[]).push([[8209],{2565:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"module-2-simulation/building-in-simulation/10-1-sdf-world-basics","title":"Lesson 10.1: SDF World Basics","description":"An SDF file is an XML file that describes a simulation world. Let\'s create a simple, empty world with just a light source and a ground plane.","source":"@site/docs/module-2-simulation/10-building-in-simulation/10-1-sdf-world-basics.md","sourceDirName":"module-2-simulation/10-building-in-simulation","slug":"/module-2-simulation/building-in-simulation/10-1-sdf-world-basics","permalink":"/robolearn/docs/module-2-simulation/building-in-simulation/10-1-sdf-world-basics","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadsaimraza/robolearn/tree/main/docs/module-2-simulation/10-building-in-simulation/10-1-sdf-world-basics.md","tags":[],"version":"current","frontMatter":{},"sidebar":"textbookSidebar","previous":{"title":"Chapter 10: Building in Simulation","permalink":"/robolearn/docs/module-2-simulation/building-in-simulation/"},"next":{"title":"Lesson 10.2: Models from Fuel","permalink":"/robolearn/docs/module-2-simulation/building-in-simulation/10-2-models-from-fuel"}}');var l=i(4848),o=i(8453);const r={},d="Lesson 10.1: SDF World Basics",a={},t=[{value:"Breakdown",id:"breakdown",level:3},{value:"Launching a World in Gazebo",id:"launching-a-world-in-gazebo",level:2},{value:"Breakdown",id:"breakdown-1",level:3},{value:"Build and Launch",id:"build-and-launch",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"lesson-101-sdf-world-basics",children:"Lesson 10.1: SDF World Basics"})}),"\n",(0,l.jsx)(n.p,{children:"An SDF file is an XML file that describes a simulation world. Let's create a simple, empty world with just a light source and a ground plane."}),"\n",(0,l.jsxs)(n.p,{children:["Create a ",(0,l.jsx)(n.code,{children:"worlds"})," directory in your ",(0,l.jsx)(n.code,{children:"urdf_tutorial"})," package, and inside it, a file named ",(0,l.jsx)(n.code,{children:"empty_world.sdf"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="empty_world">\n\n    \x3c!-- A global light source --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- A ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n  </world>\n</sdf>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"breakdown",children:"Breakdown"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:'<sdf version="1.7">'})}),": The root tag, specifying the version of the SDF specification being used."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:'<world name="empty_world">'})}),": This tag contains everything in our world."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"<include>"})}),": This is a powerful tag that lets us pull in pre-existing models. Gazebo comes with several built-in models, including ",(0,l.jsx)(n.code,{children:"sun"})," and ",(0,l.jsx)(n.code,{children:"ground_plane"}),". The ",(0,l.jsx)(n.code,{children:"model://"})," prefix tells Gazebo to look for these models in its standard library."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"launching-a-world-in-gazebo",children:"Launching a World in Gazebo"}),"\n",(0,l.jsx)(n.p,{children:"To run this simulation, we need a launch file that starts the Gazebo simulator and tells it which world file to load."}),"\n",(0,l.jsxs)(n.p,{children:["We will use the ",(0,l.jsx)(n.code,{children:"ros_gz_sim"})," package, which provides the bridge between ROS 2 and Gazebo."]}),"\n",(0,l.jsxs)(n.p,{children:["Create a new launch file, ",(0,l.jsx)(n.code,{children:"launch/gazebo.launch.py"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"import os\nfrom ament_index_python.packages import get_package_share_directory\nfrom launch import LaunchDescription\nfrom launch.actions import ExecuteProcess\n\ndef generate_launch_description():\n    pkg_share = get_package_share_directory('urdf_tutorial')\n    world_file_path = os.path.join(pkg_share, 'worlds', 'empty_world.sdf')\n\n    return LaunchDescription([\n        ExecuteProcess(\n            cmd=['gz', 'sim', '-r', world_file_path],\n            output='screen'\n        ),\n    ])\n"})}),"\n",(0,l.jsx)(n.h3,{id:"breakdown-1",children:"Breakdown"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["We find the full path to our ",(0,l.jsx)(n.code,{children:"empty_world.sdf"})," file."]}),"\n",(0,l.jsxs)(n.li,{children:["We use the ",(0,l.jsx)(n.code,{children:"ExecuteProcess"})," action to run a command line process."]}),"\n",(0,l.jsxs)(n.li,{children:["The command is ",(0,l.jsx)(n.code,{children:"gz sim -r empty_world.sdf"}),".","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"gz sim"}),": The command to run the Gazebo simulator."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-r"}),": This flag tells Gazebo to start the simulation paused. This is good practice, as it gives all your nodes time to start up before the physics engine begins running."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"world_file_path"}),": The path to the world we want to load."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"build-and-launch",children:"Build and Launch"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Add Dependency:"})," Add a dependency on ",(0,l.jsx)(n.code,{children:"ros_gz_sim"})," in your ",(0,l.jsx)(n.code,{children:"urdf_tutorial/package.xml"}),".","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:"<exec_depend>ros_gz_sim</exec_depend>\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Build:"})," ",(0,l.jsx)(n.code,{children:"colcon build"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Source:"})," ",(0,l.jsx)(n.code,{children:"source install/setup.bash"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Launch:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ros2 launch urdf_tutorial gazebo.launch.py\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["This will open the Gazebo GUI. You will see a flat, gray ground plane under a bright light. At the bottom, you will see that the simulation time is ",(0,l.jsx)(n.code,{children:"0.000"}),' and it is paused. You can press the "Play" button in the GUI to start the simulation.']}),"\n",(0,l.jsx)(n.p,{children:"You have now created and launched your first Gazebo world. In the next lessons, we'll learn how to add more interesting objects to it."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var s=i(6540);const l={},o=s.createContext(l);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);