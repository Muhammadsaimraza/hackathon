"use strict";(globalThis.webpackChunkrobolearn=globalThis.webpackChunkrobolearn||[]).push([[6494],{7932:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"module-2-simulation/robot-description-formats/9-2-building-first-robot","title":"Lesson 9.2: Building Your First Robot","description":"Let\'s apply the concepts from the last lesson to build a simple, two-wheeled mobile robot in URDF. Our robot will have:","source":"@site/docs/module-2-simulation/9-robot-description-formats/9-2-building-first-robot.md","sourceDirName":"module-2-simulation/9-robot-description-formats","slug":"/module-2-simulation/robot-description-formats/9-2-building-first-robot","permalink":"/robolearn/docs/module-2-simulation/robot-description-formats/9-2-building-first-robot","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadsaimraza/robolearn/tree/main/docs/module-2-simulation/9-robot-description-formats/9-2-building-first-robot.md","tags":[],"version":"current","frontMatter":{},"sidebar":"textbookSidebar","previous":{"title":"Lesson 9.1: Understanding URDF","permalink":"/robolearn/docs/module-2-simulation/robot-description-formats/9-1-understanding-urdf"},"next":{"title":"Lesson 9.3: Physical Properties","permalink":"/robolearn/docs/module-2-simulation/robot-description-formats/9-3-physical-properties"}}');var s=i(4848),o=i(8453);const r={},l="Lesson 9.2: Building Your First Robot",a={},h=[{value:"The URDF File",id:"the-urdf-file",level:2},{value:"Breakdown of Key Tags",id:"breakdown-of-key-tags",level:3},{value:"Visualizing the Robot",id:"visualizing-the-robot",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"lesson-92-building-your-first-robot",children:"Lesson 9.2: Building Your First Robot"})}),"\n",(0,s.jsx)(n.p,{children:"Let's apply the concepts from the last lesson to build a simple, two-wheeled mobile robot in URDF. Our robot will have:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"A chassis (the main body)."}),"\n",(0,s.jsx)(n.li,{children:"Two wheels."}),"\n",(0,s.jsx)(n.li,{children:"A caster wheel at the front for balance."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["We will define three links (",(0,s.jsx)(n.code,{children:"chassis"}),", ",(0,s.jsx)(n.code,{children:"left_wheel"}),", ",(0,s.jsx)(n.code,{children:"right_wheel"}),") and three joints (",(0,s.jsx)(n.code,{children:"left_wheel_joint"}),", ",(0,s.jsx)(n.code,{children:"right_wheel_joint"}),", ",(0,s.jsx)(n.code,{children:"caster_joint"}),")."]}),"\n",(0,s.jsx)(n.h2,{id:"the-urdf-file",children:"The URDF File"}),"\n",(0,s.jsxs)(n.p,{children:["Create a new package for this chapter's work (e.g., ",(0,s.jsx)(n.code,{children:"ros2 pkg create --build-type ament_python urdf_tutorial"}),"). Inside that package, create a directory called ",(0,s.jsx)(n.code,{children:"urdf"}),", and inside that, a file named ",(0,s.jsx)(n.code,{children:"two_wheeled_robot.urdf"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- two_wheeled_robot.urdf --\x3e\n<robot name="two_wheeled_robot">\n\n  \x3c!-- ***** LINKS ***** --\x3e\n\n  \x3c!-- Chassis Link --\x3e\n  <link name="chassis">\n    <visual>\n      <geometry>\n        <box size="0.5 0.3 0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0.0 0.0 0.8 1.0"/>\n      </material>\n    </visual>\n  </link>\n\n  \x3c!-- Left Wheel Link --\x3e\n  <link name="left_wheel">\n    <visual>\n      <origin xyz="0 0 0" rpy="1.5707 0 0"/>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0.0 0.0 0.0 1.0"/>\n      </material>\n    </visual>\n  </link>\n\n  \x3c!-- Right Wheel Link --\x3e\n  <link name="right_wheel">\n    <visual>\n      <origin xyz="0 0 0" rpy="1.5707 0 0"/>\n      <geometry>\n        <cylinder radius="0.1" length="0.05"/>\n      </geometry>\n      <material name="black"/>\n    </visual>\n  </link>\n  \n  \x3c!-- Caster Wheel Link --\x3e\n  <link name="caster">\n      <visual>\n          <geometry>\n              <sphere radius="0.05"/>\n          </geometry>\n          <material name="grey">\n              <color rgba="0.5 0.5 0.5 1.0"/>\n          </material>\n      </visual>\n  </link>\n\n  \x3c!-- ***** JOINTS ***** --\x3e\n\n  \x3c!-- Left Wheel Joint --\x3e\n  <joint name="left_wheel_joint" type="continuous">\n    <parent link="chassis"/>\n    <child link="left_wheel"/>\n    <origin xyz="0 0.175 -0.05" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n  </joint>\n\n  \x3c!-- Right Wheel Joint --\x3e\n  <joint name="right_wheel_joint" type="continuous">\n    <parent link="chassis"/>\n    <child link="right_wheel"/>\n    <origin xyz="0 -0.175 -0.05" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n  </joint>\n  \n  \x3c!-- Caster Joint --\x3e\n  <joint name="caster_joint" type="fixed">\n      <parent link="chassis"/>\n      <child link="caster"/>\n      <origin xyz="0.2 0 -0.05" rpy="0 0 0"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"breakdown-of-key-tags",children:"Breakdown of Key Tags"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Chassis:"})," This is the root link. It's a simple box."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Wheels (",(0,s.jsx)(n.code,{children:"left_wheel"}),", ",(0,s.jsx)(n.code,{children:"right_wheel"}),"):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The geometry is a cylinder. By default, a cylinder's axis is aligned with the Z-axis."}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<origin rpy="1.5707 0 0">'}),": We rotate the visual geometry by 90 degrees (1.5707 radians) around the X-axis so that the cylinder lies flat, like a wheel. This ",(0,s.jsx)(n.code,{children:"<origin>"})," tag is ",(0,s.jsx)(n.em,{children:"inside"})," the ",(0,s.jsx)(n.code,{children:"<visual>"})," tag, so it only affects the visual representation, not the link's coordinate frame itself."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Joints (",(0,s.jsx)(n.code,{children:"left_wheel_joint"}),", ",(0,s.jsx)(n.code,{children:"right_wheel_joint"}),"):"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'type="continuous"'}),": This is a revolute joint with no limits, perfect for a wheel that can spin forever."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'parent="chassis"'}),": Both wheels are connected directly to the chassis."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<origin xyz="..."'}),": This is critical. It positions the wheel relative to the chassis's origin (which is its center).","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'xyz="0 0.175 -0.05"'}),": For the left wheel, we move it 0.175 units in the +Y direction (left) and -0.05 units in Z (down)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'<axis xyz="0 1 0"/>'}),": The wheels should rotate around the Y-axis."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Caster Joint:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:'type="fixed"'}),": For this simple model, we'll make the caster a fixed sphere attached to the front of the chassis. It won't actually rotate or pivot."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"visualizing-the-robot",children:"Visualizing the Robot"}),"\n",(0,s.jsxs)(n.p,{children:["How can you see if your URDF is correct? You can use ",(0,s.jsx)(n.strong,{children:"RViz"}),", the standard ROS 2 visualization tool."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Install Joint State Publisher GUI:"})," This is a tool that lets you move your robot's joints with a slider.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt install ros-humble-joint-state-publisher-gui\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create a Launch File:"})," Create a launch file to start RViz and publish the state of your robot.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# urdf_tutorial/launch/display.launch.py\nimport os\nfrom ament_index_python.packages import get_package_share_directory\nfrom launch import LaunchDescription\nfrom launch_ros.actions import Node\nfrom launch.substitutions import Command\n\ndef generate_launch_description():\n    pkg_share = get_package_share_directory('urdf_tutorial')\n    urdf_file_path = os.path.join(pkg_share, 'urdf', 'two_wheeled_robot.urdf')\n\n    return LaunchDescription([\n        Node(\n            package='robot_state_publisher',\n            executable='robot_state_publisher',\n            name='robot_state_publisher',\n            output='screen',\n            parameters=[{'robot_description': Command(['xacro ', urdf_file_path])}]\n        ),\n        Node(\n            package='joint_state_publisher_gui',\n            executable='joint_state_publisher_gui',\n            name='joint_state_publisher_gui'\n        ),\n        Node(\n            package='rviz2',\n            executable='rviz2',\n            name='rviz2',\n            output='screen',\n        ),\n    ])\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Build and Launch:"})," After building and sourcing, run your launch file.","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 launch urdf_tutorial display.launch.py\n"})}),"\n","This will open RViz and the Joint State Publisher GUI."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configure RViz:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:['In the RViz "Displays" panel on the left, change the "Fixed Frame" to ',(0,s.jsx)(n.code,{children:"chassis"}),"."]}),"\n",(0,s.jsx)(n.li,{children:'Click the "Add" button and add a "RobotModel" display.'}),"\n",(0,s.jsx)(n.li,{children:'Add a "TF" display to see the coordinate frames.'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You should now see your robot! Use the sliders in the Joint State Publisher GUI to rotate the wheel joints and see your robot model move in RViz."}),"\n",(0,s.jsx)(n.p,{children:"You have now built and visualized your first robot. However, it's just a visual model. It has no mass or substance. In the next lesson, we'll add the physical properties that a simulator needs."})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(6540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);