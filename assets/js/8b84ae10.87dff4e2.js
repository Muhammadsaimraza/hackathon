"use strict";(globalThis.webpackChunkrobolearn=globalThis.webpackChunkrobolearn||[]).push([[4296],{5533:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module-2-simulation/building-in-simulation/10-2-models-from-fuel","title":"Lesson 10.2: Models from Fuel","description":"Building every object in your world from scratch would be time-consuming. Fortunately, Gazebo has access to a large online database of pre-made models called the Ignition Fuel marketplace. You can browse it at app.ignitionrobotics.org.","source":"@site/docs/module-2-simulation/10-building-in-simulation/10-2-models-from-fuel.md","sourceDirName":"module-2-simulation/10-building-in-simulation","slug":"/module-2-simulation/building-in-simulation/10-2-models-from-fuel","permalink":"/hackathon/docs/module-2-simulation/building-in-simulation/10-2-models-from-fuel","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadsaimraza/docs/module-2-simulation/10-building-in-simulation/10-2-models-from-fuel.md","tags":[],"version":"current","frontMatter":{},"sidebar":"textbookSidebar","previous":{"title":"Lesson 10.1: SDF World Basics","permalink":"/hackathon/docs/module-2-simulation/building-in-simulation/10-1-sdf-world-basics"},"next":{"title":"Lesson 10.3: Physical Configuration (Gazebo-Specific Tags)","permalink":"/hackathon/docs/module-2-simulation/building-in-simulation/10-3-physical-configuration"}}');var l=o(4848),r=o(8453);const s={},t="Lesson 10.2: Models from Fuel",d={},a=[{value:"Including a Fuel Model",id:"including-a-fuel-model",level:2},{value:"Breakdown",id:"breakdown",level:3},{value:"Caching",id:"caching",level:2},{value:"Adding Your Robot",id:"adding-your-robot",level:2},{value:"Breakdown",id:"breakdown-1",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"lesson-102-models-from-fuel",children:"Lesson 10.2: Models from Fuel"})}),"\n",(0,l.jsxs)(n.p,{children:["Building every object in your world from scratch would be time-consuming. Fortunately, Gazebo has access to a large online database of pre-made models called the ",(0,l.jsx)(n.strong,{children:"Ignition Fuel"})," marketplace. You can browse it at ",(0,l.jsx)(n.a,{href:"https://app.ignitionrobotics.org/fuel/models",children:"app.ignitionrobotics.org"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["You can include any model from this marketplace in your SDF world file using the ",(0,l.jsx)(n.code,{children:"<include>"})," tag, just as we did for the sun and ground plane."]}),"\n",(0,l.jsx)(n.h2,{id:"including-a-fuel-model",children:"Including a Fuel Model"}),"\n",(0,l.jsx)(n.p,{children:"Let's add a construction cone to our world."}),"\n",(0,l.jsxs)(n.p,{children:['First, find the model on the Fuel website. If you search for "construction cone," you\'ll find it. The "owner" of the model is ',(0,l.jsx)(n.code,{children:"OpenRobotics"}),"."]}),"\n",(0,l.jsxs)(n.p,{children:["Now, we can add it to our ",(0,l.jsx)(n.code,{children:"empty_world.sdf"})," file."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" ?>\n<sdf version="1.7">\n  <world name="empty_world">\n\n    \x3c!-- A global light source --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- A ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n    \n    \x3c!-- A construction cone from Fuel --\x3e\n    <include>\n      <uri>https://fuel.ignitionrobotics.org/1.0/OpenRobotics/models/Construction Cone</uri>\n      <name>cone_1</name>\n      <pose>2.0 1.0 0.0 0 0 0</pose>\n    </include>\n\n  </world>\n</sdf>\n'})}),"\n",(0,l.jsx)(n.h3,{id:"breakdown",children:"Breakdown"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"<uri>"}),":"]})," Instead of ",(0,l.jsx)(n.code,{children:"model://"}),", we provide the full URL to the model on the Fuel server. The format is ",(0,l.jsx)(n.code,{children:"https://fuel.ignitionrobotics.org/1.0/<OWNER>/models/<MODEL_NAME>"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"<name>"}),":"]})," We must give this instance of the model a unique name in our world, e.g., ",(0,l.jsx)(n.code,{children:"cone_1"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"<pose>"}),":"]})," This tag lets us set the initial position and orientation of the model in the world. The format is ",(0,l.jsx)(n.code,{children:"x y z roll pitch yaw"}),". Here, we are placing the cone at ",(0,l.jsx)(n.code,{children:"(x=2.0, y=1.0, z=0.0)"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"caching",children:"Caching"}),"\n",(0,l.jsxs)(n.p,{children:["The first time you launch a world that includes a Fuel model, Gazebo will download it from the internet and cache it on your local machine (usually in ",(0,l.jsx)(n.code,{children:"~/.ignition/fuel"}),"). The next time you launch the world, it will load the model from the local cache, which is much faster."]}),"\n",(0,l.jsx)(n.h2,{id:"adding-your-robot",children:"Adding Your Robot"}),"\n",(0,l.jsx)(n.p,{children:"How do we add our own robot, which we defined in a URDF file? We can't include a URDF file directly in a world SDF file."}),"\n",(0,l.jsxs)(n.p,{children:['Instead, we will use a special "spawner" node from the ',(0,l.jsx)(n.code,{children:"ros_gz_sim"})," package to add the robot to the simulation after it has started."]}),"\n",(0,l.jsxs)(n.p,{children:["We will modify our ",(0,l.jsx)(n.code,{children:"gazebo.launch.py"})," to do this."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"import os\nfrom ament_index_python.packages import get_package_share_directory\nfrom launch import LaunchDescription\nfrom launch.actions import ExecuteProcess\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    pkg_share = get_package_share_directory('urdf_tutorial')\n    world_file_path = os.path.join(pkg_share, 'worlds', 'empty_world.sdf')\n    urdf_file_path = os.path.join(pkg_share, 'urdf', 'two_wheeled_robot.urdf')\n\n    return LaunchDescription([\n        # Launch Gazebo\n        ExecuteProcess(\n            cmd=['gz', 'sim', '-r', world_file_path],\n            output='screen'\n        ),\n        \n        # Spawn the robot\n        Node(\n            package='ros_gz_sim',\n            executable='create',\n            arguments=[\n                '-file', urdf_file_path,\n                '-name', 'my_robot',\n                '-x', '0.0',\n                '-y', '0.0',\n                '-z', '0.1'\n            ],\n            output='screen',\n        ),\n    ])\n"})}),"\n",(0,l.jsx)(n.h3,{id:"breakdown-1",children:"Breakdown"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["We add a new ",(0,l.jsx)(n.code,{children:"Node"})," action."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"package='ros_gz_sim'"}),", ",(0,l.jsx)(n.code,{children:"executable='create'"})]}),": This runs the spawner node."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"arguments=[...]"})}),": We pass command-line arguments to the spawner.","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-file"}),": The path to our URDF file."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-name"}),": A unique name for our robot in the simulation."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-x"}),", ",(0,l.jsx)(n.code,{children:"-y"}),", ",(0,l.jsx)(n.code,{children:"-z"}),": The initial coordinates to spawn the robot at."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Now, build and launch. You will see your empty world with the construction cone, and after a moment, your two-wheeled robot will appear at the origin."}),"\n",(0,l.jsxs)(n.p,{children:["It will probably fall over and look strange. Why? Because while our URDF has ",(0,l.jsx)(n.code,{children:"<inertial>"})," tags, it doesn't have the Gazebo-specific tags needed for a complete physical simulation. We will fix that in the next lesson."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>t});var i=o(6540);const l={},r=i.createContext(l);function s(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);