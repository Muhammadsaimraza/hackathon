"use strict";(globalThis.webpackChunkrobolearn=globalThis.webpackChunkrobolearn||[]).push([[4687],{6068:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"module-2-simulation/module-2-capstone/13-1-capstone-specification","title":"Lesson 13.1: The Specification","description":"As in the Module 1 capstone, we begin by writing a clear and unambiguous technical specification.","source":"@site/docs/module-2-simulation/13-module-2-capstone/13-1-capstone-specification.md","sourceDirName":"module-2-simulation/13-module-2-capstone","slug":"/module-2-simulation/module-2-capstone/13-1-capstone-specification","permalink":"/hackathon/docs/module-2-simulation/module-2-capstone/13-1-capstone-specification","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadsaimraza/docs/module-2-simulation/13-module-2-capstone/13-1-capstone-specification.md","tags":[],"version":"current","frontMatter":{},"sidebar":"textbookSidebar","previous":{"title":"Chapter 13: Module 2 Capstone","permalink":"/hackathon/docs/module-2-simulation/module-2-capstone/"},"next":{"title":"Lesson 13.2: Building the Simulation","permalink":"/hackathon/docs/module-2-simulation/module-2-capstone/13-2-building-the-simulation"}}');var s=i(4848),o=i(8453);const t={},r="Lesson 13.1: The Specification",c={},d=[{value:"High-Level Requirements",id:"high-level-requirements",level:2},{value:"System Components",id:"system-components",level:2},{value:"Node-by-Node Specification",id:"node-by-node-specification",level:2},{value:"1. <code>wall_follower_node</code>",id:"1-wall_follower_node",level:3},{value:"2. Gazebo Plugins (within URDF)",id:"2-gazebo-plugins-within-urdf",level:3},{value:"Launch File Specification",id:"launch-file-specification",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"lesson-131-the-specification",children:"Lesson 13.1: The Specification"})}),"\n",(0,s.jsx)(n.p,{children:"As in the Module 1 capstone, we begin by writing a clear and unambiguous technical specification."}),"\n",(0,s.jsx)(n.h2,{id:"high-level-requirements",children:"High-Level Requirements"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"The system shall consist of a simulated two-wheeled robot in a world with walls."}),"\n",(0,s.jsx)(n.li,{children:"The robot shall be equipped with a 360-degree LiDAR sensor."}),"\n",(0,s.jsx)(n.li,{children:'A "wall follower" node shall control the robot.'}),"\n",(0,s.jsx)(n.li,{children:"The wall follower node shall cause the robot to move forward while maintaining a configurable distance from a wall to its right."}),"\n",(0,s.jsx)(n.li,{children:"The entire system shall be started with a single launch file."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"system-components",children:"System Components"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Gazebo World:"})," An SDF file containing a world with at least one long, straight wall for the robot to follow."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Robot Model:"})," A URDF file for a two-wheeled robot, including a LiDAR sensor plugin."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Wall Follower Node:"})," A Python ROS 2 node that implements the control logic."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Launch File:"})," A Python launch file to start and configure the system."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"node-by-node-specification",children:"Node-by-Node Specification"}),"\n",(0,s.jsxs)(n.h3,{id:"1-wall_follower_node",children:["1. ",(0,s.jsx)(n.code,{children:"wall_follower_node"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node Name:"})," ",(0,s.jsx)(n.code,{children:"wall_follower_node"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Purpose:"})," Subscribes to LiDAR data and publishes velocity commands to follow a wall."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parameters:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"desired_distance"})," (float, default: 1.0): The target distance to maintain from the wall (in meters)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"forward_velocity"})," (float, default: 0.2): The constant forward speed of the robot."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"proportional_gain"})," (float, default: 0.5): The 'k' value for the proportional controller that determines the turning rate."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Topics Subscribed:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/scan"})," (",(0,s.jsx)(n.code,{children:"sensor_msgs/msg/LaserScan"}),"): The topic the LiDAR plugin is publishing on."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Topics Published:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"/cmd_vel"})," (",(0,s.jsx)(n.code,{children:"geometry_msgs/msg/Twist"}),"): The topic the differential drive plugin is listening to."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Behavior:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["The node runs a continuous control loop (triggered by the reception of a ",(0,s.jsx)(n.code,{children:"/scan"})," message)."]}),"\n",(0,s.jsxs)(n.li,{children:["In the loop, it reads the distance measurement from the ray pointing directly to the right (the 90-degree or -\u03c0/2 radians index of the ",(0,s.jsx)(n.code,{children:"ranges"})," array)."]}),"\n",(0,s.jsxs)(n.li,{children:["It calculates the ",(0,s.jsx)(n.code,{children:"error = desired_distance - measured_distance"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["It calculates the ",(0,s.jsx)(n.code,{children:"angular_velocity = proportional_gain * error"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["It publishes a ",(0,s.jsx)(n.code,{children:"Twist"})," message with ",(0,s.jsx)(n.code,{children:"linear.x"})," set to ",(0,s.jsx)(n.code,{children:"forward_velocity"})," and ",(0,s.jsx)(n.code,{children:"angular.z"})," set to the calculated ",(0,s.jsx)(n.code,{children:"angular_velocity"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"2-gazebo-plugins-within-urdf",children:"2. Gazebo Plugins (within URDF)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LiDAR Plugin:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Must be configured to publish on the ",(0,s.jsx)(n.code,{children:"/scan"})," topic."]}),"\n",(0,s.jsx)(n.li,{children:"Must have a 360-degree horizontal field of view."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Differential Drive Plugin:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Must be configured to subscribe to the ",(0,s.jsx)(n.code,{children:"/cmd_vel"})," topic."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"wheel_separation"})," and ",(0,s.jsx)(n.code,{children:"wheel_radius"})," must accurately match the URDF's geometry."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"launch-file-specification",children:"Launch File Specification"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Name:"})," ",(0,s.jsx)(n.code,{children:"module2_capstone.launch.py"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Actions:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Start Gazebo with the specified world file."}),"\n",(0,s.jsxs)(n.li,{children:["Spawn the robot URDF model into Gazebo using the ",(0,s.jsx)(n.code,{children:"ros_gz_sim"})," create node."]}),"\n",(0,s.jsxs)(n.li,{children:["Start the ",(0,s.jsx)(n.code,{children:"wall_follower_node"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Pass the default parameter values (",(0,s.jsx)(n.code,{children:"desired_distance"}),", etc.) to the ",(0,s.jsx)(n.code,{children:"wall_follower_node"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This specification provides a complete blueprint for our system. In the next lesson, you will implement the world, the robot, and the launch file."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var l=i(6540);const s={},o=l.createContext(s);function t(e){const n=l.useContext(o);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(o.Provider,{value:n},e.children)}}}]);