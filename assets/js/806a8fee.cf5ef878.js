"use strict";(globalThis.webpackChunkrobolearn=globalThis.webpackChunkrobolearn||[]).push([[1088],{5093:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"module-1-ros/first-code/4-1-workspaces-and-packages","title":"Lesson 4.1: Workspaces & Packages","description":"Before we write code, we need to organize our files. ROS 2 has a standard, conventional structure for development called a workspace.","source":"@site/docs/module-1-ros/4-first-code/4-1-workspaces-and-packages.md","sourceDirName":"module-1-ros/4-first-code","slug":"/module-1-ros/first-code/4-1-workspaces-and-packages","permalink":"/hackathon/docs/module-1-ros/first-code/4-1-workspaces-and-packages","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadsaimraza/docs/module-1-ros/4-first-code/4-1-workspaces-and-packages.md","tags":[],"version":"current","frontMatter":{},"sidebar":"textbookSidebar","previous":{"title":"Chapter 4: Your First ROS 2 Code","permalink":"/hackathon/docs/module-1-ros/first-code/"},"next":{"title":"Lesson 4.2: Writing a Publisher","permalink":"/hackathon/docs/module-1-ros/first-code/4-2-writing-publisher"}}');var o=n(4848),c=n(8453);const i={},a="Lesson 4.1: Workspaces & Packages",t={},l=[{value:"The ROS 2 Workspace",id:"the-ros-2-workspace",level:2},{value:"Creating a Python Package",id:"creating-a-python-package",level:2},{value:"Key Files",id:"key-files",level:3},{value:"Building the Workspace",id:"building-the-workspace",level:2},{value:"Sourcing the Workspace",id:"sourcing-the-workspace",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"lesson-41-workspaces--packages",children:"Lesson 4.1: Workspaces & Packages"})}),"\n",(0,o.jsxs)(s.p,{children:["Before we write code, we need to organize our files. ROS 2 has a standard, conventional structure for development called a ",(0,o.jsx)(s.strong,{children:"workspace"}),"."]}),"\n",(0,o.jsx)(s.h2,{id:"the-ros-2-workspace",children:"The ROS 2 Workspace"}),"\n",(0,o.jsx)(s.p,{children:"A workspace is a directory that contains your ROS 2 packages. The standard structure looks like this:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"ros2_ws/\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 build/\n\u251c\u2500\u2500 install/\n\u2514\u2500\u2500 log/\n"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"src/"}),": This is the ",(0,o.jsx)(s.strong,{children:"source"})," directory. It's the only one you will touch directly. You will put all of your packages inside this folder."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"build/"}),": This is a temporary directory where ROS 2's build tool, ",(0,o.jsx)(s.code,{children:"colcon"}),", will put intermediate files when it compiles your code. You should never edit this directory yourself."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"install/"}),": After a successful build, ",(0,o.jsx)(s.code,{children:"colcon"})," will place the final, installable files here. This includes your node executables and the setup files needed to run them."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"log/"}),": Contains log files from running your nodes."]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Let's create our workspace. In your terminal, run:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"mkdir -p ros2_ws/src\ncd ros2_ws\n"})}),"\n",(0,o.jsx)(s.h2,{id:"creating-a-python-package",children:"Creating a Python Package"}),"\n",(0,o.jsxs)(s.p,{children:["Now that we are inside our workspace, we can create our first package. We will use the ",(0,o.jsx)(s.code,{children:"ros2 pkg create"})," command that we've seen before."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"cd src\nros2 pkg create --build-type ament_python my_first_package\n"})}),"\n",(0,o.jsxs)(s.p,{children:["This command creates a new directory called ",(0,o.jsx)(s.code,{children:"my_first_package"})," inside ",(0,o.jsx)(s.code,{children:"src"}),". The ",(0,o.jsx)(s.code,{children:"--build-type ament_python"})," flag tells ROS that this will be a Python package."]}),"\n",(0,o.jsx)(s.p,{children:"The generated package will have this structure:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{children:"my_first_package/\n\u251c\u2500\u2500 my_first_package/\n\u2502   \u2514\u2500\u2500 __init__.py\n\u251c\u2500\u2500 resource/\n\u2502   \u2514\u2500\u2500 my_first_package\n\u251c\u2500\u2500 test/\n\u2502   \u251c\u2500\u2500 test_copyright.py\n\u2502   \u251c\u2500\u2500 test_flake8.py\n\u2502   \u2514\u2500\u2500 test_pep257.py\n\u251c\u2500\u2500 package.xml\n\u251c\u2500\u2500 setup.cfg\n\u2514\u2500\u2500 setup.py\n"})}),"\n",(0,o.jsx)(s.h3,{id:"key-files",children:"Key Files"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"package.xml"}),": This is the package manifest. It contains metadata like the package name, version, author, and dependencies. You ",(0,o.jsx)(s.strong,{children:"must"})," edit this file to add your dependencies. For a Python node, you'll always need ",(0,o.jsx)(s.code,{children:"rclpy"}),".","\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-xml",children:"\x3c!-- Inside package.xml --\x3e\n<depend>rclpy</depend>\n"})}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"setup.py"}),": This is a standard Python setup file. It tells ",(0,o.jsx)(s.code,{children:"colcon"})," how to install your package and, crucially, where to find your executables. You will need to add an ",(0,o.jsx)(s.code,{children:"entry_points"})," section to register your nodes."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"my_first_package/"}),": This is the directory where you will put your actual Python source code files."]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"building-the-workspace",children:"Building the Workspace"}),"\n",(0,o.jsxs)(s.p,{children:["Now that we have a package, we need to build it. Navigate to the root of your workspace (",(0,o.jsx)(s.code,{children:"ros2_ws"}),") and run the build command:"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"cd ..  # Go back to the root of ros2_ws\ncolcon build\n"})}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"colcon"})," is the ROS 2 build tool. It will go through all the packages in your ",(0,o.jsx)(s.code,{children:"src"})," directory, figure out their dependencies, and build them in the correct order."]}),"\n",(0,o.jsxs)(s.p,{children:["If the build is successful, you will see new ",(0,o.jsx)(s.code,{children:"build"})," and ",(0,o.jsx)(s.code,{children:"install"})," directories appear in your workspace."]}),"\n",(0,o.jsx)(s.h2,{id:"sourcing-the-workspace",children:"Sourcing the Workspace"}),"\n",(0,o.jsxs)(s.p,{children:["The executables and resources for your new package are now in the ",(0,o.jsx)(s.code,{children:"install"})," directory. To use them, you need to source your workspace's local setup file."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n",(0,o.jsxs)(s.p,{children:["This command tells your terminal where to find the packages you just built. ",(0,o.jsx)(s.strong,{children:"You must do this in every new terminal you open."})]}),"\n",(0,o.jsxs)(s.p,{children:["Now, if you run ",(0,o.jsx)(s.code,{children:"ros2 pkg list"}),", you should see ",(0,o.jsx)(s.code,{children:"my_first_package"})," in the list of available packages."]}),"\n",(0,o.jsx)(s.p,{children:"You now have a complete, buildable ROS 2 package. In the next lesson, we will add our first Python node to it."})]})}function h(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>a});var r=n(6540);const o={},c=r.createContext(o);function i(e){const s=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(c.Provider,{value:s},e.children)}}}]);