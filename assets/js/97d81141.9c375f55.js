"use strict";(globalThis.webpackChunkrobolearn=globalThis.webpackChunkrobolearn||[]).push([[4400],{884:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"module-2-simulation/sensors-in-simulation/11-3-imu-and-contact","title":"Lesson 11.3: IMU & Contact Sensors","description":"Let\'s round out our sensor suite with two more important types: an IMU for balance and orientation, and a contact sensor to detect collisions.","source":"@site/docs/module-2-simulation/11-sensors-in-simulation/11-3-imu-and-contact.md","sourceDirName":"module-2-simulation/11-sensors-in-simulation","slug":"/module-2-simulation/sensors-in-simulation/11-3-imu-and-contact","permalink":"/hackathon/docs/module-2-simulation/sensors-in-simulation/11-3-imu-and-contact","draft":false,"unlisted":false,"editUrl":"https://github.com/Muhammadsaimraza/docs/module-2-simulation/11-sensors-in-simulation/11-3-imu-and-contact.md","tags":[],"version":"current","frontMatter":{},"sidebar":"textbookSidebar","previous":{"title":"Lesson 11.2: LiDAR Simulation","permalink":"/hackathon/docs/module-2-simulation/sensors-in-simulation/11-2-lidar-simulation"},"next":{"title":"Lesson 11.4: Sensors Debugging","permalink":"/hackathon/docs/module-2-simulation/sensors-in-simulation/11-4-sensors-debugging"}}');var o=s(4848),t=s(8453);const r={},a="Lesson 11.3: IMU & Contact Sensors",l={},c=[{value:"1. IMU Sensor",id:"1-imu-sensor",level:2},{value:"Breakdown",id:"breakdown",level:3},{value:"2. Contact/Bumper Sensor",id:"2-contactbumper-sensor",level:2},{value:"Breakdown",id:"breakdown-1",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"lesson-113-imu--contact-sensors",children:"Lesson 11.3: IMU & Contact Sensors"})}),"\n",(0,o.jsx)(n.p,{children:"Let's round out our sensor suite with two more important types: an IMU for balance and orientation, and a contact sensor to detect collisions."}),"\n",(0,o.jsx)(n.h2,{id:"1-imu-sensor",children:"1. IMU Sensor"}),"\n",(0,o.jsx)(n.p,{children:"An Inertial Measurement Unit (IMU) measures orientation, angular velocity, and linear acceleration. It's the robot's inner ear, providing its sense of balance."}),"\n",(0,o.jsxs)(n.p,{children:["We will attach the IMU to the ",(0,o.jsx)(n.code,{children:"chassis"})," link."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Add this INSIDE the <gazebo reference="chassis"> tag in your URDF --\x3e\n\n<sensor name="imu_sensor" type="imu">\n  <update_rate>50</update_rate>\n  <plugin name="imu_controller" filename="libgz-sim-ros2-imu-system.so">\n    <topic_name>imu</topic_name>\n    <frame_id>chassis</frame_id>\n  </plugin>\n</sensor>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"breakdown",children:"Breakdown"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:'<sensor type="imu">'})}),": Defines the sensor type."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<plugin>"})}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'filename="libgz-sim-ros2-imu-system.so"'}),": The plugin that simulates an IMU and publishes ",(0,o.jsx)(n.code,{children:"sensor_msgs/msg/Imu"})," messages."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"<topic_name>"}),": The ROS 2 topic to publish on, ",(0,o.jsx)(n.code,{children:"/imu"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"<frame_id>"}),": The TF frame of the data."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"After rebuilding and launching, you can echo the topic to see the raw data:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 topic echo /imu\n"})}),"\n",(0,o.jsx)(n.p,{children:"You will see a stream of messages containing orientation (as a quaternion), angular velocity, and linear acceleration."}),"\n",(0,o.jsx)(n.h2,{id:"2-contactbumper-sensor",children:"2. Contact/Bumper Sensor"}),"\n",(0,o.jsx)(n.p,{children:"Sometimes you need to know if your robot has physically run into something. A contact or bumper sensor detects collisions."}),"\n",(0,o.jsxs)(n.p,{children:["Let's add a \"bumper\" to the front of our chassis. We'll attach it to the same ",(0,o.jsx)(n.code,{children:"camera_link"})," at the front."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Add this INSIDE the <gazebo reference="camera_link"> tag in your URDF --\x3e\n\n<sensor name="bumper_sensor" type="contact">\n  <contact>\n    <collision>camera_link_collision</collision>\n  </contact>\n  <update_rate>10</update_rate>\n  <plugin name="bumper_controller" filename="libgz-sim-ros2-bumper-system.so">\n    <topic_name>bumper_state</topic_name>\n    <frame_id>camera_link</frame_id>\n  </plugin>\n</sensor>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"breakdown-1",children:"Breakdown"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:'<sensor type="contact">'})}),": Defines the sensor type."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<contact><collision>"})}),": This is important. It specifies which ",(0,o.jsx)(n.strong,{children:"collision geometry"})," this sensor is attached to. The name ",(0,o.jsx)(n.code,{children:"camera_link_collision"})," refers to the ",(0,o.jsx)(n.code,{children:"<collision>"})," element of the ",(0,o.jsx)(n.code,{children:"camera_link"})," link. This means the sensor will only trigger if that specific collision shape hits something."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"<plugin>"})}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:'filename="libgz-sim-ros2-bumper-system.so"'}),": The plugin that publishes ",(0,o.jsx)(n.code,{children:"gz_ros2_interfaces/msg/Contact"})," messages when a collision is detected."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"<topic_name>"}),": The topic to publish on, ",(0,o.jsx)(n.code,{children:"/bumper_state"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"After rebuilding and launching, you can echo the topic:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 topic echo /bumper_state\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Initially, it will be empty. Now, drive your robot forward until it hits the construction cone or a wall. As soon as the ",(0,o.jsx)(n.code,{children:"camera_link"}),"'s collision geometry makes contact, you will see messages appear on the topic, describing the collision."]}),"\n",(0,o.jsx)(n.p,{children:"Your robot is now equipped with a comprehensive suite of sensors, allowing it to perceive the world through sight, lasers, and touch, and to understand its own orientation in space. In the final lesson of this chapter, we'll review the tools we use to make sure all this data is correct."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var i=s(6540);const o={},t=i.createContext(o);function r(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);