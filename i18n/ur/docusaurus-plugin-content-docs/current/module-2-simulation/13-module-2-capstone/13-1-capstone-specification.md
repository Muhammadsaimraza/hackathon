# سبق 13.1: تفصیلات

ماڈیول 1 کے کیپسٹون کی طرح، ہم ایک واضح اور غیر مبہم تکنیکی تفصیلات لکھ کر شروع کرتے ہیں۔

## اعلیٰ سطحی ضروریات

1.  نظام میں دیواروں والی دنیا میں ایک سمیولیٹڈ دو پہیوں والا روبوٹ شامل ہوگا۔
2.  روبوٹ 360 ڈگری LiDAR سینسر سے لیس ہوگا۔
3.  ایک "وال فالور" نوڈ روبوٹ کو کنٹرول کرے گا۔
4.  وال فالور نوڈ روبوٹ کو آگے بڑھنے پر مجبور کرے گا جبکہ اس کی دائیں جانب کی دیوار سے ایک قابل ترتیب فاصلہ برقرار رکھے گا۔
5.  پورا نظام ایک ہی لانچ فائل سے شروع کیا جائے گا۔

## سسٹم کے اجزاء

1.  **Gazebo ورلڈ:** ایک SDF فائل جس میں روبوٹ کے لیے کم از کم ایک لمبی، سیدھی دیوار والی دنیا ہو۔
2.  **روبوٹ ماڈل:** ایک دو پہیوں والے روبوٹ کے لیے ایک URDF فائل، جس میں ایک LiDAR سینسر پلگ ان بھی شامل ہو۔
3.  **وال فالور نوڈ:** ایک پائتھن ROS 2 نوڈ جو کنٹرول منطق کو نافذ کرتا ہے۔
4.  **لانچ فائل:** سسٹم کو شروع کرنے اور ترتیب دینے کے لیے ایک پائتھن لانچ فائل۔

## نوڈ بہ نوڈ تفصیلات

### 1. `wall_follower_node`

*   **نوڈ کا نام:** `wall_follower_node`
*   **مقصد:** LiDAR ڈیٹا کو سبسکرائب کرتا ہے اور دیوار کے ساتھ چلنے کے لیے رفتار کمانڈز شائع کرتا ہے۔
*   **پیرامیٹرز:**
    *   `desired_distance` (فلوٹ، ڈیفالٹ: 1.0): دیوار سے برقرار رکھنے کا ہدف فاصلہ (میٹرز میں)۔
    *   `forward_velocity` (فلوٹ، ڈیفالٹ: 0.2): روبوٹ کی مستقل آگے کی رفتار۔
    *   `proportional_gain` (فلوٹ، ڈیفالٹ: 0.5): تناسب کنٹرولر کے لیے 'k' ویلیو جو موڑ کی شرح کا تعین کرتی ہے۔
*   **سبسکرائب کردہ ٹاپکس:**
    *   `/scan` (`sensor_msgs/msg/LaserScan`): وہ ٹاپک جس پر LiDAR پلگ ان شائع کر رہا ہے۔
*   **شائع کردہ ٹاپکس:**
    *   `/cmd_vel` (`geometry_msgs/msg/Twist`): وہ ٹاپک جسے ڈیفرینشل ڈرائیو پلگ ان سن رہا ہے۔
*   **رویہ:**
    1.  نوڈ ایک مسلسل کنٹرول لوپ چلاتا ہے ( `/scan` پیغام کی وصولی سے ٹرگر ہوتا ہے)۔
    2.  لوپ میں، یہ براہ راست دائیں طرف اشارہ کرنے والی رے سے فاصلے کی پیمائش پڑھتا ہے (90 ڈگری یا -π/2 ریڈینز `ranges` ایرے کا انڈیکس)۔
    3.  یہ `غلطی = مطلوبہ_فاصلہ - پیمائش_شدہ_فاصلہ` کا حساب لگاتا ہے۔
    4.  یہ `کونیی_رفتار = تناسب_گیین * غلطی` کا حساب لگاتا ہے۔
    5.  یہ `Twist` پیغام شائع کرتا ہے جس میں `linear.x` کو `forward_velocity` پر اور `angular.z` کو حساب کردہ `angular_velocity` پر سیٹ کیا جاتا ہے۔

### 2. Gazebo پلگ انز (URDF کے اندر)

*   **LiDAR پلگ ان:**
    *   `/scan` ٹاپک پر شائع کرنے کے لیے ترتیب دیا جانا چاہیے۔
    *   360 ڈگری افقی فیلڈ آف ویو ہونا چاہیے۔
*   **ڈیفرینشل ڈرائیو پلگ ان:**
    *   `/cmd_vel` ٹاپک کو سبسکرائب کرنے کے لیے ترتیب دیا جانا چاہیے۔
    *   `wheel_separation` اور `wheel_radius` کو URDF کی جیومیٹری سے درست طریقے سے ملنا چاہیے۔

## لانچ فائل کی تفصیلات

*   **نام:** `module2_capstone.launch.py`
*   **اعمال:**
    1.  مخصوص ورلڈ فائل کے ساتھ Gazebo شروع کریں۔
    2.  `ros_gz_sim` create نوڈ کا استعمال کرتے ہوئے روبوٹ URDF ماڈل کو Gazebo میں اسپان کریں۔
    3.  `wall_follower_node` شروع کریں۔
    4.  `wall_follower_node` کو ڈیفالٹ پیرامیٹر ویلیوز ( `desired_distance`، وغیرہ) پاس کریں۔

یہ تفصیلات ہمارے نظام کے لیے ایک مکمل بلیو پرنٹ فراہم کرتی ہے۔ اگلے سبق میں، آپ ورلڈ، روبوٹ، اور لانچ فائل کو نافذ کریں گے۔
