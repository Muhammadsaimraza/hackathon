# سبق 11.4: سینسرز کی ڈیبگنگ

آپ کا سیمولیشن اب بہت سارا ڈیٹا شائع کر رہا ہے۔ لیکن آپ کو کیسے معلوم ہوگا کہ ڈیٹا درست ہے؟ سمیولیٹڈ سینسرز کو ڈیبگ کرنا ایک اہم مہارت ہے۔ یہاں وہ بنیادی ٹولز اور تکنیکیں ہیں جو آپ کو استعمال کرنی چاہئیں۔

## 1. `ros2 topic echo`

یہ ہمیشہ آپ کا پہلا قدم ہے۔ کسی بھی چیز کو دیکھنے کی کوشش کرنے سے پہلے، خام ڈیٹا کو دیکھیں۔
```bash
ros2 topic echo <topic_name>
```
*   **کیا کچھ بھی شائع ہو رہا ہے؟** اگر آپ کو کوئی پیغام نظر نہیں آتا، تو اس کا مطلب ہے کہ آپ کا پلگ ان نہیں چل رہا ہے یا غلط طریقے سے ترتیب دیا گیا ہے۔ اپنی URDF اور Gazebo کنسول میں غلطیوں کی جانچ کریں۔
*   **کیا ڈیٹا معقول ہے؟** اگر آپ `/scan` کو echo کر رہے ہیں اور تمام رینجز `inf` (لامتناہی) ہیں، تو اس کا مطلب یہ ہو سکتا ہے کہ آپ کا LiDAR کسی دوسری چیز کے اندر ہے یا آسمان کی طرف اشارہ کر رہا ہے۔ اگر آپ `/image_raw` کو echo کر رہے ہیں، تو آپ کو تصویری ڈیٹا خود نظر نہیں آئے گا (یہ بہت بڑا ہے)، لیکن آپ کو پیغام کے ہیڈرز شائع ہوتے نظر آنے چاہئیں۔

## 2. RViz

RViz ایک اسپیشل سیاق و سباق میں سینسر ڈیٹا کو دیکھنے کے لیے بنیادی ٹول ہے۔

*   **TF ٹری:** سب سے پہلے اپنی TF ٹری کو چیک کریں۔ "TF" ڈسپلے شامل کریں۔ کیا تمام لنکس ظاہر ہوتے ہیں؟ کیا وہ صحیح طریقے سے جڑے ہوئے ہیں؟ اگر آپ کا `camera_link` `chassis` سے منسلک ہونے کے بجائے خلا میں تیر رہا ہے، تو آپ کے جوائنٹ کے `<origin>` ٹیگ میں مسئلہ ہے۔
*   **LaserScan ڈسپلے:** جب آپ ایک LaserScan ڈسپلے شامل کرتے ہیں اور ٹاپک سیٹ کرتے ہیں، تو آپ کو اپنے روبوٹ ماڈل کے ارد گرد پوائنٹس نظر آنے چاہئیں۔ اگر پوائنٹس غلط طریقے سے آفسیٹ یا گھمائے گئے ہیں، تو اس کا مطلب عام طور پر یہ ہوتا ہے کہ آپ کے سینسر پلگ ان کنفیگریشن میں `<frame_name>` غلط ہے، یا URDF کے اندر سینسر کا `<pose>` غلط ہے۔
*   **تصویری ڈسپلے:** RViz کیمرہ کی تصاویر بھی دکھا سکتا ہے۔ ایک "Image" ڈسپلے شامل کریں اور ٹاپک سیٹ کریں۔ یہ مفید ہے، لیکن سادہ دیکھنے کے لیے، `rqt_image_view` اکثر آسان ہوتا ہے۔
*   **IMU ڈسپلے:** آپ IMU کی واقفیت کو براہ راست نہیں دیکھ سکتے، لیکن آپ TF ٹری پر اس کے اثرات کو دیکھ سکتے ہیں۔ IMU ڈیٹا اکثر ایک لوکلائزیشن الگورتھم (جیسے SLAM) کے ذریعہ روبوٹ کی واقفیت کو شائع کرنے کے لیے استعمال ہوتا ہے۔ آپ اسے RViz میں `chassis` فریم کو گھومتے ہوئے دیکھ کر سمجھیں گے جب آپ Gazebo میں فزیکل روبوٹ کو حرکت دیتے ہیں۔

## 3. Gazebo GUI

یہ نہ بھولیں کہ Gazebo خود ایک طاقتور ڈیبگنگ ٹول ہے۔

*   **وژولائزرز:** Gazebo GUI میں، آپ بہت سے سینسر کی اقسام کے لیے وژولائزرز کو آن کر سکتے ہیں۔ مثال کے طور پر، آپ "View" -> "Lidar visualization" کو فعال کر سکتے ہیں تاکہ سیمولیشن میں اصل لیزر بیم کو کاسٹ ہوتے ہوئے دیکھ سکیں۔ یہ آپ کو یہ سمجھنے میں مدد کر سکتا ہے کہ آپ کا سینسر کسی ایسی چیز کو کیوں نہیں دیکھ رہا ہے جس کو آپ کو لگتا ہے کہ اسے دیکھنا چاہیے۔ آپ کیمرہ فرسٹمز اور دیگر سینسرز کے لیے بھی ایسا کر سکتے ہیں۔
*   **انسپیکٹ ٹول:** "Inspect" ٹول (میگنیفائنگ گلاس) کا استعمال کرتے ہوئے اپنے روبوٹ کے کسی بھی لنک پر کلک کریں۔ دائیں جانب کا پینل آپ کو اس کی تمام خصوصیات دکھائے گا، بشمول اس کا ماس، انرشیا، اور آیا یہ تصادم کی حالت میں ہے۔
*   **کنسول آؤٹ پٹ:** جس ٹرمینل میں آپ نے Gazebo لانچ کیا تھا وہ مفید معلومات اور غلطی کے پیغامات سے بھرا ہوا ہے۔ اگر کوئی پلگ ان لوڈ ہونے میں ناکام ہو جاتا ہے یا کوئی ماڈل نہیں ملتا، تو غلطی یہاں پرنٹ ہو گی۔

## عام مسائل اور حل

*   **مسئلہ:** ٹاپک پر کوئی پیغام نہیں۔
    *   **حل:** Gazebo کنسول میں غلطیوں کی جانچ کریں۔ کیا پلگ ان صحیح طریقے سے لوڈ ہوا؟ کیا آپ کی URDF میں ٹاپک کا نام صحیح لکھا ہے؟
*   **مسئلہ:** RViz میں ڈیٹا غلط جگہ پر ہے (مثلاً، LiDAR سکین خلا میں تیر رہا ہے)۔
    *   **حل:** آپ کی TF ٹری ٹوٹی ہوئی ہے۔ اپنی پلگ ان کنفیگریشن میں `<frame_name>` یا `<frame_id>` کو چیک کریں۔ اسے اس لنک کے نام سے ملنا چاہیے جس سے سینسر منسلک ہے۔
*   **مسئلہ:** سیمولیشن بہت سست ہے۔
    *   **حل:** آپ کی سینسر کی سیٹنگز بہت زیادہ ہو سکتی ہیں۔ `update_rate` یا `samples` کی تعداد (LiDAR کے لیے) یا `width`/`height` (کیمرے کے لیے) کو کم کرنے کی کوشش کریں۔ ایک `gpu_lidar` CPU `lidar` سے کہیں زیادہ تیز ہے۔

ان ٹولز کو یکجا کر کے، آپ اپنے سمیولیٹڈ سینسرز کے ساتھ تقریباً کسی بھی مسئلے کی منظم طریقے سے تشخیص اور اسے ٹھیک کر سکتے ہیں۔ یہ باب 11 کا اختتام کرتا ہے۔ اب آپ ایک روبوٹ بنا سکتے ہیں اور اسے احساسات دے سکتے ہیں۔ اگلے باب میں، آپ اپنے ROS 2 کوڈ کو روبوٹ سے جوڑنا سیکھیں گے تاکہ ایک کلوزڈ-لوپ کنٹرول سسٹم بنایا جا سکے۔
